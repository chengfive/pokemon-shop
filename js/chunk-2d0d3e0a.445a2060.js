(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3e0a"],{"5f47":function(t,e,c){"use strict";c.r(e);c("b0c0"),c("a4d3"),c("e01a");var n=c("7a23"),u={class:"loading-icon"},i={key:0,class:"product-detail"},r={class:"product-img"},a={class:"product-other"},s={class:"product-type"},o={class:"product-name"},d={class:"product-price"},p={class:"product-description"},l=Object(n["g"])("hr",{color:"#999999",size:"0.5",style:{margin:"30px 0"}},null,-1),y={class:"product-quantity"},b={style:{"margin-left":"15px",color:"#666666"}},h={style:{height:"20px",margin:"-10px 0 0"}},j={key:0,style:{color:"#ff0000"}},O={class:"product-subTotal"},g=Object(n["f"])(" 小計"),m={class:"product-cart"},Q=Object(n["g"])("div",{id:"pop"},null,-1);function f(t,e,f,v,x,C){return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["D"])(Object(n["g"])("div",u,null,512),[[n["A"],!t.products.length]]),t.products.length?(Object(n["p"])(),Object(n["d"])("div",i,[Object(n["g"])("div",r,[Object(n["g"])("img",{src:c("3296")("./"+C.product.src)},null,8,["src"])]),Object(n["g"])("div",a,[Object(n["g"])("span",s,Object(n["x"])(C.product.type),1),Object(n["g"])("div",o,Object(n["x"])(C.product.name),1),Object(n["g"])("div",d,"$"+Object(n["x"])(C.product.price),1),Object(n["g"])("div",p,Object(n["x"])(C.product.description),1),l,Object(n["g"])("div",y,[Object(n["g"])("button",{class:{disable:1==x.currentQuantity},onClick:e[1]||(e[1]=function(){return C.decreaseQuantity&&C.decreaseQuantity.apply(C,arguments)})}," − ",2),Object(n["D"])(Object(n["g"])("input",{type:"text",onInput:e[2]||(e[2]=function(){return C.maxQuantity&&C.maxQuantity.apply(C,arguments)}),onBlur:e[3]||(e[3]=function(){return C.emptyQuantity&&C.emptyQuantity.apply(C,arguments)}),"onUpdate:modelValue":e[4]||(e[4]=function(t){return x.currentQuantity=t})},null,544),[[n["z"],x.currentQuantity]]),Object(n["g"])("button",{class:{disable:x.currentQuantity==C.product.quantity},onClick:e[5]||(e[5]=function(){return C.increaseQuantity&&C.increaseQuantity.apply(C,arguments)})}," + ",2),Object(n["g"])("span",b,"還剩下"+Object(n["x"])(C.product.quantity)+"件",1)]),Object(n["g"])("div",h,[C.maxNotice?(Object(n["p"])(),Object(n["d"])("span",j,"已達到購買上限")):Object(n["e"])("",!0)]),Object(n["g"])("div",O,[g,Object(n["g"])("span",null,"$"+Object(n["x"])(C.subTotal),1)]),Object(n["g"])("div",m,[Object(n["g"])("button",{onClick:e[6]||(e[6]=function(){return C.addToCart&&C.addToCart.apply(C,arguments)})},"加入購物車")])]),Q])):Object(n["e"])("",!0)],64)}var v=c("5530"),x=(c("7db0"),c("ac1f"),c("5319"),c("5502")),C=c("8206"),k=c.n(C),T=c("4360"),q={data:function(){return{currentQuantity:1}},computed:Object(v["a"])(Object(v["a"])({},Object(x["b"])(["products","isLogining","user"])),{},{product:function(){var t=this;return this.products.find((function(e){return e.id===t.$route.params.id}))},subTotal:function(){return this.product.price*this.currentQuantity},cartData:function(){return{id:this.product.id,name:this.product.name,price:this.product.price,src:this.product.src,quantity:this.currentQuantity,subTotal:this.subTotal}},maxNotice:function(){return!(this.currentQuantity<this.product.quantity)}}),methods:{addToCart:function(){if(this.isLogining){T["a"].commit("pushCart",this.cartData),k.a.patch("https://pokemon-shop-server.herokuapp.com/users/"+this.user.id,{cart:this.user.cart}),T["a"].commit("addCart",this.user.cart);var t=document.createElement("div"),e=document.createTextNode("商品已加入購物車");t.appendChild(e),document.getElementById("pop").appendChild(t),setTimeout((function(){document.getElementById("pop").removeChild(t)}),1e3)}else this.$router.push("/login")},increaseQuantity:function(){this.currentQuantity<this.product.quantity&&this.currentQuantity++},decreaseQuantity:function(){this.currentQuantity>1&&this.currentQuantity--},maxQuantity:function(){this.currentQuantity=this.currentQuantity.replace(/^0|\D/g,""),this.currentQuantity>this.product.quantity&&(this.currentQuantity=this.product.quantity),""!==this.currentQuantity&&(this.currentQuantity=+this.currentQuantity)},emptyQuantity:function(){""===this.currentQuantity&&(this.currentQuantity=1)}}};q.render=f;e["default"]=q}}]);
//# sourceMappingURL=chunk-2d0d3e0a.445a2060.js.map