{"version":3,"sources":["webpack:///./src/views/CartPage.vue","webpack:///./src/views/CartPage.vue?07a7"],"names":["class","cart","length","discount","type","autocomplete","name","id","spellcheck","placeholder","useCoupon","coupon","to","data","components","computed","methods","value","trim","this","currentCoupon","coupons","find","item","store","commit","alert","render"],"mappings":"gJAC2BA,MAAM,c,SACnBA,MAAM,a,GAEXA,MAAM,W,GAaNA,MAAM,Q,iBACqB,Y,4FAjBtB,EAAAC,KAAKC,Q,iBACjB,eAkBM,MAlBN,EAkBM,CAjBJ,eAA0C,GAAnCD,KAAM,EAAAA,KAAOE,SAAU,EAAAA,U,4BAC9B,eAYM,MAZN,EAYM,C,eAXJ,eASE,SARAC,KAAK,OACLC,aAAa,MACbC,KAAK,SACLC,GAAG,SACHC,WAAW,QACXC,YAAY,gBACX,QAAK,+CAAQ,EAAAC,UAAU,EAAAC,UAAM,Y,qDACrB,EAAAA,OAAM,K,mBAAN,EAAAA,UAEX,eAAiD,UAAxC,QAAK,+BAAE,EAAAD,UAAU,EAAAC,WAAS,WAErC,eAEM,MAFN,EAEM,CADJ,eAAoD,GAAvCC,GAAG,eAAa,C,wBAAC,iBAAQ,C,mCAjB1C,eAAwD,MAAxD,EAA4C,W,0EA2B/B,GACbC,KADa,WAEX,MAAO,CACLF,OAAQ,KAGZG,WAAY,CACVb,KAAA,QAEFc,SAAU,kBACL,eAAS,CAAC,OAAQ,OAAQ,UAAW,cAE1CC,QAAS,CACPN,UADO,SACGC,GACR,IAAIM,EAAQN,EAAOO,OAEnB,GADAC,KAAKR,OAASM,EACVA,EAAJ,CACE,IAAIG,EAAgBD,KAAKE,QAAQC,MAAK,SAACC,GAAD,OAAUA,EAAKhB,KAAOU,KACxDG,EACFI,EAAA,KAAMC,OAAO,cAAeL,EAAcjB,UAE1CuB,MAAM,eC9ChB,EAAOC,OAASA,EAED","file":"js/chunk-2d21061a.70b8aad0.js","sourcesContent":["<template>\n  <div v-if=\"!cart.length\" class=\"cart-empty\">購物車是空的</div>\n  <div v-else class=\"cart-page\">\n    <cart :cart=\"cart\" :discount=\"discount\" />\n    <div class=\"coupons\">\n      <input\n        type=\"text\"\n        autocomplete=\"off\"\n        name=\"coupon\"\n        id=\"coupon\"\n        spellcheck=\"false\"\n        placeholder=\"輸入優惠碼:pokemon\"\n        @keyup.enter=\"useCoupon(coupon)\"\n        v-model=\"coupon\"\n      />\n      <button @click=\"useCoupon(coupon)\">套用優惠碼</button>\n    </div>\n    <div class=\"next\">\n      <router-link to=\"/order-page\"> 填寫訂單資料 </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport cart from \"@/components/Cart.vue\";\nimport store from \"@/store/index.js\";\n\nexport default {\n  data() {\n    return {\n      coupon: \"\",\n    };\n  },\n  components: {\n    cart,\n  },\n  computed: {\n    ...mapState([\"user\", \"cart\", \"coupons\", \"discount\"]),\n  },\n  methods: {\n    useCoupon(coupon) {\n      let value = coupon.trim();\n      this.coupon = value;\n      if (value) {\n        let currentCoupon = this.coupons.find((item) => item.id === value);\n        if (currentCoupon) {\n          store.commit(\"addDiscount\", currentCoupon.discount);\n        } else {\n          alert(\"此優惠碼不存在\");\n        }\n      } else {\n        return;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\"></style>\n","import { render } from \"./CartPage.vue?vue&type=template&id=53239ef0\"\nimport script from \"./CartPage.vue?vue&type=script&lang=js\"\nexport * from \"./CartPage.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}